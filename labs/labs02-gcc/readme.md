# Lab02: Introduction to Cygwin

###      

**Cygwin** เป็นชุดโปรแกรมซอฟต์แวร์โอเพนซอร์ส (Open-Source Software) ที่มีเป้าหมายหลักคือทำให้ระบบปฏิบัติการ Windows
ทำงานคล้ายกับระบบ Unix. Cygwin ทำหน้าที่เป็นเลเยอร์จำลอง POSIX บน Windows

**ข้อดีของ Cygwin:**

* สามารถติดตั้งและใช้งานโปรแกรม Unix บน Windows ได้โดยไม่ต้องติดตั้งระบบปฏิบัติการใหม่
* สามารถเขียนโปรแกรมบน Windows ที่สามารถทำงานบน Unix ได้โดยไม่ต้องแก้ไขโค้ด
* สามารถใช้งานเครื่องมือ Unix ยอดนิยม เช่น bash, grep, sed, awk, ssh บน Windows ได้

**ข้อเสียของ Cygwin:**

* **อาจมีปัญหาความ Compatibility:**
    * บางโปรแกรม Unix ที่พัฒนาโดยเฉพาะสำหรับ Cygwin อาจไม่ทำงานได้ดีบน Windows
    * บางโปรแกรม Windows อาจไม่ทำงานได้ดีบน Cygwin.
* **ความเร็ว:**
    * Cygwin อาจทำงานช้ากว่า Windows Native CMD เนื่องจาก Cygwin ต้องทำการจำลองระบบ Unix บน Windows.

### Unix:

- Unix เป็นระบบปฏิบัติการที่ถูกพัฒนาขึ้นโดย Bell Labs ในปี ค.ศ. 1969

- ภาษา C ถูกใช้พัฒนา Unix เพราะมีประสิทธิภาพสูง เรียนรู้ได้ง่าย และสามารถเขียนโปรแกรมควบคุมฮาร์ดแวร์ได้โดยตรงและโปรแกรม
  Unix ดั้งเดิมส่วนใหญ่เขียนด้วยภาษา C.

### Cygwin Tools:

Cygwin Tools เป็นชุดโปรแกรม Unix ที่พอร์ตมาใช้งานบน Windows.

**ตัวอย่างคำสั่ง Unix ที่สามารถใช้บน Cygwin ได้:**

* **`ls`, `cp`, `mv`:** คำสั่งพื้นฐานสำหรับการจัดการไฟล์และตำแหน่งไดเรกทอรี
* **`bash`, `sh`:** สำหรับรันคำสั่งและสคริปต์
* **`vim`:** โปรแกรมแก้ไขข้อความ
* **`gcc`:** คอมไพเลอร์ภาษา C
* **`gdb`:** ดีบักเกอร์สำหรับแก้ไขปัญหาในโปรแกรม

### วิธีการติดตั้ง Cygwin และ gcc บน Windows:

1. **ดาวน์โหลดไฟล์ติดตั้ง:** ไปที่เว็บไซต์ https://www.cygwin.com/ และเลื่อนลงมาหาหัวข้อ “Installing Cygwin” และกดที่ "
   setup-x86_64.exe"
2. **เปิดไฟล์ติดตั้ง:** เมื่อโหลดเสร็จแล้ว เปิดไฟล์ "setup-x86_64.exe" ที่ดาวน์โหลดมา
3. **เลือก Download Sites:**  หน้าต่างจะขึ้นมาให้เลือก Download Sites (เว็บไซต์ที่ให้บริการในการดาวน์โหลดไฟล์)
   เลือกเว็บไซต์ที่อยู่ใกล้ เช่น
    - **Hong Kong**: `mirror-hk.koddos.net`
    - **China**: `download.nus.edu.sg`
4. **เลือก Package:** ในหน้าต่าง Package Selection ให้ใช้ช่อง Search เพื่อค้นหา Package
   ที่ต้องการจะลงแล้วในตารางด้านล่างให้หาคอลัมน์ New ที่มีคำว่า "Skip"
   ของแถว Package ที่ต้องการ ให้เปลี่ยนคำว่า "Skip" แล้วเลือกเป็นเวอร์ชั่นล่าสุด โดยน้องๆ จะมี Package ที่ต้องลงดังนี้:
    * gcc-core
    * gcc-g++
    * libgcc1
    * gdb
    * libgdbm-devel
    * libgdbm4
    * libgdbm6
    * libgdbm_compat4
5. **เริ่มดาวน์โหลด:** กด Next เพื่อเริ่มดาวน์โหลดไฟล์ Package
6. **เช็คว่า gcc นั้นทำงานอยู่ไหม:** พิมพ์ `gcc --help` ใน Cygwin

### Windows Directory Structure:

Windows Directory Structure คือโครงสร้างของระบบการจัดระเบียบไฟล์และโฟลเดอร์ในระบบปฏิบัติการ Windows

**โฟลเดอร์หลัก:**

* `C:` ไดรฟ์หลักที่ใช้เก็บข้อมูลของระบบปฏิบัติการและโปรแกรมต่างๆ
* `C:\Users` ใช้เก็บข้อมูลส่วนตัวของผู้ใช้แต่ละคน
* `C:\Users\<username>` โฟลเดอร์ของผู้ใช้แต่ละคน
    * ถ้าผู้ใช้ใช้ชื่อว่า “Karn” โฟลเดอร์ของผู้ใช้จะอยู่ที่ `C:\Users\Karn`
    * คอมที่คณะจะใช้ User ตามหมายเลขห้อง เช่นห้อง L203 จะใช้ `C:\Users\LAB203_xx`
* **โฟลเดอร์ย่อยใน Users:** Desktop, Documents, Downloads, Pictures, Music, Videos, AppData

### Cygwin:

เมื่อเปิด Cygwin ขึ้นมา, เราจะเจอหน้าต่าง Shell.

**Working Directory:** คือโฟลเดอร์หรือตำแหน่งที่ปัจจุบันที่คำสั่งหรือโปรแกรมที่ทำงานในระบบคอมพิวเตอร์กำลังทำงานอยู่
ค่าเริ่มต้นคือ home directory แทนด้วยสัญลักษณ์ตัวหนอน (tilde) `~`

### การใส่คำสั่งใน Shell Command:

**โครงสร้างพื้นฐานของคำสั่ง:**

```
command [options] [arguments]
```

* **Command:** คำสั่งที่ต้องการใช้งานเช่น cd, ls, gcc, vim, ssh
* **Options:** เป็นเงื่อนไขทางเลือกที่ปรับเปลี่ยนพฤติกรรมของคำสั่ง โดยทั่วไปตัวเลือกจะขึ้นต้นด้วยhyphen (-) เช่น -l ใน
  ls แสดงรายการไฟล์ในรูปแบบยาว
* **Arguments:** เป็นการรับข้อมูลที่จำเป็นที่คำสั่งต้องใช้ในการดำเนินการ เช่น ชื่อไฟล์, ไดเรกทอรี

**ตัวอย่างของคำสั่ง:**

* `gcc test.c -o output.exe` ใช้สำหรับคอมไพล์ไฟล์ test.c เพื่อสร้างโปรแกรมที่สามารถทำงานได้ชื่อ output.exe
* `ls -l -a` ใช้สำหรับแสดงรายการของไฟล์และโฟลเดอร์ในไดเรกทอรีปัจจุบันด้วยรายละเอียดแบบยาว (-l) และไฟล์ที่ถูกซ่อน (-a)
* `java -Xmx1G -Xms1G -jar Minecraft_server.jar nogui` ใช้สำหรับเปิดเซิฟเวอร์ Minecraft บน Ubuntu Server

### Cygwin File System:

Cygwin File System เป็นชุดโปรแกรม Unix ที่พอร์ตมาใช้งานบน Windows ทำให้ระบบไฟล์ไม่เหมือนใน Windows

**ตำแหน่งของไดร์ฟ C ของ Windows ใน Cygwin:**

* `/cygdrive/c/`

**การเปลี่ยน Working Directory:**

* `cd /cygdrive/c/`  เพื่อเข้าถึงไดรฟ์ C: ของ Windows
* `cd` (change directory): เป็นคำสั่งที่ใช้เพื่อเปลี่ยน Working Directory

**ตัวอย่างการเปลี่ยน Working Directory:**

* **ไปที่ Desktop:**
    * `cd Users`
    * `cd LAB203_xx`
    * `cd Desktop`

### Compile with gcc:

1. **สร้าง folder ใหม่:**
    * ใน Cygwin, พิมพ์
      ```bash
      mkdir "PhysicalCom"
      ```
2. **สร้างไฟล์ C:**
    * เปิดโฟลเดอร์ PhysicalCom ใน vscode แล้วกด New file เพื่อสร้างไฟล์ภาษา C ขึ้นมา
3. **ตั้งชื่อไฟล์ C:**
    * **อย่า**ใช้ช่องว่าง, เริ่มต้นชื่อด้วยตัวเลข, ใช้อักขระพิเศษ (ยกเว้น underscore), หรือใช้ชื่อไฟล์ที่ยาวเกินไป

4. **Sample Code:**

```c
#include <stdio.h>

int main() {
  printf("Hello World!\n");
  return 0;
}
```

5. **Compile:**
    * ให้ Working Directory ของตัว Cygwin มาอยู่ที่โฟลเดอร์ที่เก็บไฟล์ภาษา C ไว้
        * สามารถลิสต์ไฟล์ในโฟลเดอร์ได้โดยใช้คำสั่ง `ls -l`
    * คำสั่งด้านล่างเป็นคำสั่งที่เรียกใช้ gcc เพื่อ compile โค้ดภาษา C
    ``` bash
    gcc Lab0.c
    ```
    * ไฟล์ผลลัพธ์จะถูกตั้งชื่อเป็น `a.exe` อัตโนมัติ.
    * **หรือ**  พิมพ์ `gcc Lab0.c –o run.exe` เพื่อตั้งชื่อไฟล์ผลลัพธ์เป็น `run.exe`.
6. **Run:**
    * พิมพ์ `./a.exe` หรือ `./run.exe` เพื่อแสดงผลลัพธ์.



